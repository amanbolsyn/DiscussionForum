<!-- Modal for Creating Post -->
<div id="createPostForm" class="post-form">
    <div class="modal-content">
        <span class="close" id="closeCreateModal">&times;</span>
        <form id="newPostForm" action="/posts" method="POST">
            <h2>Post New Topic</h2>
            <input type="text" id="postTitle" placeholder="Enter title" required name="title"><br><br>
            <textarea id="postContent" placeholder="Enter content" required name="body"></textarea><br><br>
            <h3>Select Category</h3>
            <select id="categorySelect" required name="categories">
                <option value="">--Select a Category--</option>
                <option value="Technology">Technology</option>
                <option value="Science">Science</option>
                <option value="Health">Health</option>
                <option value="Education">Education</option>
                <option value="Lifestyle">Lifestyle</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Sports">Sports</option>
                <option value="Politics">Politics</option>
                <option value="Art">Art</option>
                <option value="Travel">Travel</option>
            </select><br><br>
            <button type="submit">Create Post</button>
        </form><br><br>
    </div>
</div>

<script>
    var createForm = document.getElementById("createPostForm");
    var createPostBttn = document.getElementById("createPost");
    var createCloseSpan = document.getElementById("closeCreateModal");

    // When the user clicks the button, open the modal
    createPostBttn.onclick = function () {
        createForm.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    createCloseSpan.onclick = function () {
        createForm.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == createForm) {
            createForm.style.display = "none";
        }
    }

    // Validate that at least one category is selected
    function validateForm() {
        var selectedCategories = document.querySelectorAll('#categorySelect option:checked');
        if (selectedCategories.length == 0) {
            alert("Please select at least one category.");
            return false; // Prevent form submission
        }
        return true; // Allow form submission
    }
</script>